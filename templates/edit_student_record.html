{% extends 'base.html' %}

{% block title %}Edit Student{% endblock %}

{% block content %}
<div style="padding-top: 2rem; max-width: 600px; margin: 0 auto;">
    <div class="glass card">
        <div style="margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: space-between;">
            <h2 style="margin: 0;">Edit Student</h2>
            <a href="{{ url_for('view_students') }}" style="font-size: 1.5rem;">&times;</a>
        </div>

        <form action="{{ url_for('edit_student_record', user_id=user_id) }}" method="post">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" name="name" value="{{ student[0] }}" required>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label>Roll Number</label>
                    <input type="text" name="roll_number" value="{{ student[1] }}" required>
                </div>
                <div class="form-group">
                    <label>Enrollment Number</label>
                    <input type="text" name="enrollment_number" value="{{ student[2] or '' }}" required>
                </div>

            </div>

            <div class="form-group">
                <label>Department</label>
                <select name="department" required>
                    <option value="Computer Engineering" {% if student[3]=='Computer Engineering' %}selected{% endif %}>
                        Computer Engineering</option>
                    <option value="AI & ML" {% if student[3]=='AI & ML' %}selected{% endif %}>AI & ML</option>
                    <option value="Electronics & Computer Science" {% if student[3]=='Electronics & Computer Science'
                        %}selected{% endif %}>
                        Electronics & Computer Science (ECS)</option>
                    <option value="Mechanical Engineering" {% if student[3]=='Mechanical Engineering' %}selected{% endif
                        %}>
                        Mechanical Engineering</option>
                    <option value="Information Technology" {% if student[3]=='Information Technology' %}selected{% endif
                        %}>Information Technology</option>
                </select>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label>Academic Year</label>
                    <select name="academic_year" required>
                        <option value="2023-2024" {% if student[4]=='2023-2024' %}selected{% endif %}>2023-2024</option>
                        <option value="2024-2025" {% if student[4]=='2024-2025' %}selected{% endif %}>2024-2025</option>
                        <option value="2025-2026" {% if student[4]=='2025-2026' %}selected{% endif %}>2025-2026</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Current Year</label>
                    <select name="current_year" required>
                        <option value="FE" {% if student[5]=='FE' %}selected{% endif %}>FE</option>
                        <option value="SE" {% if student[5]=='SE' %}selected{% endif %}>SE</option>
                        <option value="TE" {% if student[5]=='TE' %}selected{% endif %}>TE</option>
                        <option value="BE" {% if student[5]=='BE' %}selected{% endif %}>BE</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Update Record</button>
        </form>
    </div>
</div>
{% endblock %}